version: "2.0"

rules:
  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Say 'I am a bot' anytime the user challenges
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - rule: Say `hello` whenever the user sends a message with intent `greet`
    steps:
      - intent: greet
      - action: utter_greet
  # FULL TASK
  - rule: Activate full task form
    steps:
      - intent: add_task_full
      - action: full_task_form
      - active_loop: full_task_form

  - rule: Submit full task form
    condition:
      - active_loop: full_task_form
    steps:
      - action: full_task_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: full_task_submit

  # CATEGORY AND TASK
  - rule: Activate task with category form
    steps:
      - intent: add_task_with_category
      - action: task_with_category_form
      - active_loop: task_with_category_form

  - rule: Submit task with category
    condition:
      - active_loop: task_with_category_form
    steps:
      - action: task_with_category_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: task_with_category_submit

  # HOUR AND TASK
  - rule: Activate task with hour
    steps:
      - intent: add_task_with_hour
      - action: task_with_hour_form
      - active_loop: task_with_hour_form

  - rule: Submit task with hour
    condition:
      - active_loop: task_with_hour_form
    steps:
      - action: task_with_hour_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: task_with_hour_submit

  # TASK ONLY
  - rule: Activate add task only form
    steps:
      - intent: add_task_only
      - action: task_only_form
      - active_loop: task_only_form

  - rule: Submit add task only form
    condition:
      - active_loop: task_only_form
    steps:
      - action: task_only_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: task_only_submit

  # HOUR ONLY
  - rule: Activate hour only form
    steps:
      - intent: inform_hour
      - action: hour_form
      - active_loop: hour_form

  - rule: Submit hour only form
    condition:
      - active_loop: hour_form
    steps:
      - action: hour_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: hour_submit

  # CATEGORY ONLY
  - rule: Activate category only form
    steps:
      - intent: inform_category
      - action: category_form
      - active_loop: category_form

  - rule: Submit category only form
    condition:
      - active_loop: category_form
    steps:
      - action: category_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: category_submit

  # CATEGORY AND HOUR ONLY
  - rule: Activate hour and category only form
    steps:
      - intent: inform_hour_and_category
      - action: hour_and_category_form
      - active_loop: hour_and_category_form

  - rule: Submit category only form
    condition:
      - active_loop: hour_and_category_form
    steps:
      - action: hour_and_category_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: hour_and_category_submit
